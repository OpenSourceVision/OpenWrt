# OpenWrt uci-defaults 脚本使用说明

## 概述

本脚本是针对 OpenWrt 24.10.1 系统的自动化配置脚本，使用 ImmortalWrt 软件源，专门为旁路由模式设计。脚本会在系统首次启动时自动执行，完成网络、防火墙、服务等基础配置。

## 脚本功能

### 🌐 网络配置
- 设置静态IP：192.168.110.110/24
- 配置网关：192.168.110.1
- DNS服务器：223.5.5.5, 192.168.110.1
- 禁用DHCP服务（旁路由模式）

### 🔧 系统优化
- 时区设置：Asia/Shanghai (CST-8)
- 启用IP转发
- 网络性能优化参数
- 中文管理界面

### 📦 软件源配置
- 使用 ImmortalWrt 24.04 软件源
- 提供多个国内镜像源备选
- 自动更新软件包列表


## 自定义配置

### 🎛️ 修改IP地址

修改默认IP地址，编辑脚本中的以下部分：

```bash
uci set network.lan.ipaddr='你的IP地址'
uci set network.lan.gateway='你的网关地址'
```

## 使用说明

### 步骤1：访问固件选择器

打开 https://firmware-selector.openwrt.org/

### 步骤2：选择设备和版本

1. 输入你的设备型号
2. 选择版本：**24.10.1**


### 步骤3：添加预装软件包

在 **"预安装的软件包"** 后面复制粘贴：

**OpenWrt 24 系统必装软件：**
```
luci-i18n-base-zh-cn luci-i18n-firewall-zh-cn luci-i18n-opkg-zh-cn openssh-sftp-server curl wget-ssl nano htop iperf3 luci-theme-argon
```

### 步骤4：添加首次启动脚本

在 **"首次启动时运行的脚本（uci-defaults）"** 部分，将本仓库中的完整脚本代码复制并粘贴到输入框中。

### 步骤5：请求构建

点击 **"请求构建"** 按钮，等待固件构建完成。

### 步骤6：下载镜像文件

**推荐下载：COMBINED-EFI (SQUASHFS)镜像文件**


### 步骤7：刷写固件



## 首次启动后

### 🌍 访问管理界面

- **Web管理**: http://192.168.110.110
- **SSH访问**: `ssh root@192.168.110.110`
- **默认用户**: root（无密码，首次登录需设置）





## 注意事项

⚠️ **重要提醒**：
- 本脚本专为旁路由模式设计，不适用于主路由

---
